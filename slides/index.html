<!doctype html>



<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Graphql slides - CodersCantabria</title>

        <script>
            (function (d, ua) {
                if ((ua.indexOf('chrome') > -1) || (ua.indexOf('safari') > -1 && ua.indexOf("mobile") === -1)) {
                    d.className += " supported ";
                }
            })(document.documentElement, navigator.userAgent.toLowerCase());
        </script>

        <meta name="description" content="graphql">
        <meta name="author" content="rocimunoz" />
        <meta name="keywords" content="graphql server">

        <link href='https://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
        <link href="css/style.css" rel="stylesheet" />
        <script src="js/prefixfree.js"></script>
    </head>
    <body>

        <div class="fallback-message">
            <p>This presentation was build for latest <b>Chrome</b> or <b>Safari</b> browser.</p>
            <p>You are viewing simplified view, but most of the CSS 3D will not work for you, sorry.</p>
        </div>

        <div id="impress">

            <div id="title" class="step">
                <h3>
                    <span class="css"><span class="d3">graphql</span></span><br>

                </h3>
                <span class="author">
                    <i>by</i><br/>
                    <span class="name">@roci_munoz</span>
                    <span class="name">https://github.com/rocimunoz/graphql</span>
                </span>
                <span>
                    <img id="imgGit" src="images/logo.png" alt="git">
                </span>

            </div>
            <!-- First Slide -->
            <div id="1" class="step" data-x="2000" data-y="0">

                <h3 class="pinkForeground"><b> Un poco de historia</b></h3>
                <ul>
                    <li>Años 90: <b>COM</b>, <span class="pinkForeground">Corba</span>, <b>RMI</b> para comunicación distribuida</li>
                    <li>Año 1998: Nace <span class="pinkForeground">SOAP</span> como protocolo de acceso a objetos</li>
                    <li>Año 2000: Roy Fielding crea <span class="pinkForeground">REST Api</span></li>
                    <li>Año 2015: Facebook crea <span class="pinkForeground">GraphQL</span></li>

                </ul>
            </div>
            <!-- Second Slide -->
            <div id="corba" class="step" data-x="4000" data-y="0">
                <!--<h2><span class="pinkBack">Cronologia</span></h2>-->
                <h3 class="pinkForeground"><b> Corba (años 90)</b></h3>
                <span>
                <ul>
                    <li>Estandar para la comunicación de objetos distribuidos</li>
                    <li>Independencia del lenguaje entre cliente y servidor</li>
                    <li>Comunicación TCP/IP. Problemas con cortafuegos</li>
                    <li>Especificación compleja y cara de implementar</li>
                    <li>APIs incompletas y dificiles de utilizar</li>

                </ul>
              </span>
                <p><span >
                    <img class="imgcenter" src="images/corba.gif" alt="git">
                </span></p>
            </div>

            <!-- Third Slide -->
            <div id="soap" class="step" data-x="6000" data-y="0">
                <h3 class="pinkForeground"><b> Soap (1998)</b></h3>
                <ul>
                    <li>Protocolo de comunicación en entornos distribuidos</li>
                    <li>Utiliza XML para el almacenamiento de datos</li>
                    <li>Comunicación usando Http</li>
                    <li>Es lento</li>
                    <li>Dependencica de WSDL</li>
                </ul>
                <img src="images/soap.png">
            </div>

            <!-- 4 Slide -->
            <div id="rest" class="step" data-x="8000" data-y="0">
                <h3 class="pinkForeground"><b>REST (2000)</b></h3>
                <ul>
                    <li>REST (Representational State Transfer)</li>
                    <li>Creado por Roy Fielding (padre de la especificación Http)</li>
                    <li>Arquitectura para diseñar aplicaciones en red usando Http</b></li>
                    <li>Se basa en el uso de recursos</b></li>
                </ul>
            </div>
            <!-- 5 Slide -->
            <div id="rest2" class="step" data-x="10000" data-y="0">
                <h3 class="pinkForeground"><b>Principios REST API</b></h3>
                <ol>
                  <li><b>Identificación de recursos</b></li>
                  Acceso único a traves de URLs
                  <li><b>Métodos con significado</b></li>
                  (GET, POST, PUT ...)
                  <li><b>Respuesta en multiples formatos</b></li>
                  Json, Xml ...
                  <li><b>Principio HATEOAS: respuesta en forma de hipervinculo</b></li>
                </ol>
                    https://www.adictosaltrabajo.com/tutoriales/spring-hateoas/

            </div>
            <!-- 6 Slide -->
            <div id="rest3" class="step" data-x="12000" data-y="0">
              <img src="images/rest_model.png"/>
            </div>

            <div id="rest4" class="step" data-x="14000" data-y="0">
                <h3 class="pinkForeground"><b>Ejemplo endpoints</b></h3>
                <p>GET /posts</p>
                <p>GET /post/12</p>
                <p>GET /post/12/comments</p>
                <p>GET /post/12/comments/10</p>
                <p>POST /posts/</p>
                <p>DELETE /post/12</p>
            </div>
            <!-- 7 Slide -->
            <div id="facebook" class="step" data-x="16000" data-y="0">
                <h3 class="pinkForeground"><b>Facebook tiene problemas (2012)</b></h3>
                <ul>
                  <li>Problemas de rendimiento</li>
                  <li>Cambio modelo App Nativa</li>
                  <li>Refactorización API REST</li>
                </ul>
                <span>
                    <img id="facebook_team" src="images/facebook.png" alt="git">
                </span>
            </div>
            <!-- 8 Slide -->
            <div id="rest_latencia" class="step" data-x="18000" data-y="0">
                <h3 class="pinkForeground"><b>Problemas de API Rest</b></h3>
                <p><b>1. Problemas de latencia</b></p>
                <p>
                    <img id="rest_request" src="images/rest_request.png" alt="git">
                </p>
            </div>

            <!-- 9 Slide -->
            <div id="rest_payload" class="step" data-x="20000" data-y="0">
                <h3 class="pinkForeground"><b>Problemas de API Rest</b></h3>
                <p><b>2. Tamaño Payload</b></p>
                La respuesta o payload es muy grande. ¿Necesitamos todos los datos?
            </div>

            <!-- 10 Slide -->
            <div id="rest_custom" class="step" data-x="22000" data-y="0">
                <h3 class="pinkForeground"><b>Problemas de API Rest</b></h3>
                <p><b>3. Custom Endpoints</b></p>
                Necesidades del proyecto despues de haber diseñado nuestros endpoints
            </div>

            <!-- 11 Slide -->
            <div id="rest_version" class="step" data-x="24000" data-y="0">
                <h3 class="pinkForeground"><b>Problemas de API Rest</b></h3>
                <p><b>3. Versionado de endpoints</b></p>
                ¿Cómo mantenemos los endpoints de versiones anteriores?<br/><br/>
                <i>api/v1/article/1</i><br/>
                <i>api/v2/article/1</i>
            </div>

            <!-- 12 Slide -->
            <div id="graphql" class="step" data-x="26000" data-y="0">
                <h3 class="pinkForeground"><b>Hablemos de Grahpl ...</b>
                  <img src="images/logo.png" alt="git">
                </h3>
                <ul>
                  <li><u>Especificación</u> nacida en 2012 como solución a un problema de producto en Facebook</li>
                  <li>Redefine la forma en la que pedimos datos al backend</li>
                  <li>No trabaja con endpoints. <u>!!! Unico punto de entrada!!!</u></li>
                  <li>Servidor devuelve <u>sólo</u> lo que graphql pide</li>
                  <li>Sistema de tipado entre campos</li>
                  <li>Anidamiento de consultas</li>
                </ul>
                <br/>
            </div>

            <!-- 13 Slide -->
            <div id="graphql_server" class="step" data-x="28000" data-y="0">
                <h3 class="pinkForeground">Construyendo el servidor</h3>
                <img class="img_right" src="images/demo_arquitectura.png" alt="git">
                <ul><li><b>Java</b> : Graphql-java</li>
                <li><b>JS</b>: Apollo-server</li>
                <li><b>Elixir</b>: Phoenix</li>
                <li><b>Ruby</b>: Graphql-gem</li>
                <li><b>Python</b>: Graphene</li></ul>

            </div>

            <!-- 14 Slide -->
            <div id="schema" class="step" data-x="30000" data-y="0">
                <h3 class="pinkForeground"><b>Schema (SDL)</b>
                </h3>
                <ul>
                  <li>Colección de tipos Graphql (queries, mutation, type)</li>
                  <li><u>Types:</u> Modelo de datos</li>
                  <li><u>Queries:</u> representan las consultas</li>
                  <li><u>Mutation:</u> consultas que alteran datos (updates, insert, deletes)</li>
                </ul>
            </div>
            <!-- 15 Slide -->
            <div id="schema_types" class="step" data-x="32000" data-y="0">
                <h3 class="pinkForeground"><b>Schema (SDL): Types</b></h3>
                <div class="col_left">
                <ul>
                  <li>Modelo de datos tipado</li>
                  <li>Paso de parámetros</li>
                  <li><span class="pinkForeground">!</span> indica campos obligatorios</li>
                  <li>Anidamiento de consultas</li>
                </ul>
              </div>
                  <div class="col_right border_rounded">
                <code>
                  type Author{<br/>
                    <span class="indent">id: Int!</span></br>
                    <span class="indent">firstName: String!</span></br>
                    <span class="indent">lastName: String!</span></br>
                    <span class="indent">books: [Book!]!</span></br>
                  }
                </code></div>
            </div>
            <!-- 16 Slide -->
            <div id="schema_queries" class="step" data-x="34000" data-y="0">
                <h3 class="pinkForeground"><b>Schema (SDL): Queries</b></h3>
                <div class="col_left">
                <ul>
                  <li>Consulta para obtener datos en modo lectura (GET)</li>
                  <li>Se realizan de forma asincrona</li>

                </ul>
              </div>
                <div class="col_right border_rounded">
                  <code>
                    type Query{<br/>
                      <span class="indent">allBooks: [Book!]!</span></br>
                      <span class="indent">allAuthors: [Author!]!</span></br>
                    }
                  </code>
                </div>
            </div>
            <!-- 17 Slide -->
            <div id="schema_mutation" class="step" data-x="36000" data-y="0">
                <h3 class="pinkForeground"><b>Schema (SDL): Mutations</b></h3>
                <div class="col_left">
                <ul>
                  <li>Consulta para alterar datos (POST)</li>
                  <li>Se realizan de forma sincrona</li>
                </ul>
              </div>
                <div class="col_right border_rounded">
                  <code>
                    mutation createAuthor(name:"Pepe", lastName:"Garcia"){
                      name
                    }
                  </code>
                </div>
            </div>

            <!-- 18 Slide -->
            <div id="resolver" class="step" data-x="38000" data-y="0">
                <h3 class="pinkForeground"><b>Resolver</b>
                </h3>
                <div class="col_left">
                <ul>
                  <li>Funciones que indican como resolver la consultas sobre el schema</li>
                </ul>
              </div>
                <div class="col_right border_rounded">
                <code>
                  Query: {<br/>
                    <span class="indent">allPeople(obj, args, context, info) {</span></br>
                        <span class="indent">return findAll(people, { id: args.id });</span><br/>
                        <span class="indent">},</span><br/>
                      },<br/>
                </code>
              </div>

            </div>
            <!-- 19 Slide -->
            <div id="response" class="step" data-x="40000" data-y="0">
                <h3 class="pinkForeground"><b>¿Y la respuesta?</b>
                </h3>
                <div class="col_left">
                <ul>
                  <li>json con 2 elementos (data y error)</li>
                </ul>
              </div>
                <div class="col_right border_rounded">

                <code>
                  {"data":<br/>
                  <span class="indent">{"allBooks":[]}</span><br/>
                  }
                </code>
              </div>

            </div>

            <!-- 20 Slide -->
            <div id="graphi" class="step" data-x="42000" data-y="0">
                <h3 class="pinkForeground"><b>Graphi</b>
                </h3>
                <ul>
                  <li>Herramienta para validar y testear las peticiones graphql</li>
                </ul>
                <img src="images/graphi.png">
                <br/>
            </div>

            <!-- 21 Slide -->
            <div id="demo" class="step" data-x="44000" data-y="0">
                <h3 class="pinkForeground"><b>Demo </b>
                </h3>
                <div class="col_left">
                <ul>
                  <li>Graphi: simulando el cliente</li>
                  <li>Apollo-server: servidor</li>
                  <li>Sequelize: ORM</li>
                  <li>Mysql: BBDD</li>
                </ul>
              </div>
                <div class="col_right">
                  <img src="images/demo.png"></div>

                <br/>
            </div>
        </div>

        <script src="js/impress.js"></script>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
        <script src="js/script.js"></script>

        <script type="text/javascript">
            impress().init();
            document.getElementById('hippalusVideo').play();

            // Add callbacks for images animation in merge part
            // Need it when going back


            // Add callbacks for images animation for second merge part
            // Need it when going back


        </script>
    </body>
</html>
